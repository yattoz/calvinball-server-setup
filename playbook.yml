- name: The Play
  hosts: localhost
  vars_files:
    - vars/users.yml
    - vars/packages.yml
  tasks:
    - name: Ping
      ansible.builtin.ping:

    - name: Print message
      ansible.builtin.debug:
        msg: Hello world

    - name: Create group
      group:
        name: "{{ podcast_group }}"
        state: present

    - name: Create Users
      user:
        name: "{{ item }}"
        state: present
        password: "{{ item | password_hash('sha512','A512') }}"
        shell: /bin/bash
        group: "{{ podcast_group }}"
      loop: "{{ podcast_keys + admin_user }}"

    - name: Install debian packages
      ansible.builtin.package: 
        name: "{{ debian_packages }}"
        state: present
